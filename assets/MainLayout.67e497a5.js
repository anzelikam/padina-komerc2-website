import{h as j,E as N,K as b,M as O,J as W,ax as K,i,j as f,k as U,l as k,m as h,a7 as E,t as p,x as J,I,ay as $,aj as A,$ as D,r as G,o as C,e as P,w as q,d as V,c as X,O as Y,u as Z,N as ee,P as te}from"./index.58ec4dea.js";import{a as oe,Q as ae}from"./QScrollObserver.98d31d6c.js";import{Q as T,g as B,d as ne}from"./scroll.914d7bba.js";import{u as le}from"./storeOmiljeno.0c5ebade.js";import{u as re}from"./storeNavigacija.6551efaf.js";var ie=j({name:"QPageContainer",setup(t,{slots:g}){const{proxy:{$q:c}}=k(),n=N(O,b);if(n===b)return console.error("QPageContainer needs to be child of QLayout"),b;W(K,!0);const a=i(()=>{const l={};return n.header.space===!0&&(l.paddingTop=`${n.header.size}px`),n.right.space===!0&&(l[`padding${c.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(l.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(l[`padding${c.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),l});return()=>f("div",{class:"q-page-container",style:a.value},U(g.default))}}),ue=j({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:g,emit:c}){const{proxy:{$q:n}}=k(),a=N(O,b);if(a===b)return console.error("QFooter needs to be child of QLayout"),b;const l=h(parseInt(t.heightHint,10)),u=h(!0),_=h(E.value===!0||a.isContainer.value===!0?0:window.innerHeight),v=i(()=>t.reveal===!0||a.view.value.indexOf("F")>-1||n.platform.is.ios&&a.isContainer.value===!0),s=i(()=>a.isContainer.value===!0?a.containerHeight.value:_.value),z=i(()=>{if(t.modelValue!==!0)return 0;if(v.value===!0)return u.value===!0?l.value:0;const e=a.scroll.value.position+s.value+l.value-a.height.value;return e>0?e:0}),x=i(()=>t.modelValue!==!0||v.value===!0&&u.value!==!0),Q=i(()=>t.modelValue===!0&&x.value===!0&&t.reveal===!0),H=i(()=>"q-footer q-layout__section--marginal "+(v.value===!0?"fixed":"absolute")+"-bottom"+(t.bordered===!0?" q-footer--bordered":"")+(x.value===!0?" q-footer--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus"+(v.value!==!0?" hidden":""):"")),R=i(()=>{const e=a.rows.value.bottom,r={};return e[0]==="l"&&a.left.space===!0&&(r[n.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),e[2]==="r"&&a.right.space===!0&&(r[n.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),r});function d(e,r){a.update("footer",e,r)}function m(e,r){e.value!==r&&(e.value=r)}function S({height:e}){m(l,e),d("size",e)}function w(){if(t.reveal!==!0)return;const{direction:e,position:r,inflectionPoint:y}=a.scroll.value;m(u,e==="up"||r-y<100||a.height.value-s.value-r-l.value<300)}function L(e){Q.value===!0&&m(u,!0),c("focusin",e)}p(()=>t.modelValue,e=>{d("space",e),m(u,!0),a.animate()}),p(z,e=>{d("offset",e)}),p(()=>t.reveal,e=>{e===!1&&m(u,t.modelValue)}),p(u,e=>{a.animate(),c("reveal",e)}),p([l,a.scroll,a.height],w),p(()=>n.screen.height,e=>{a.isContainer.value!==!0&&m(_,e)});const o={};return a.instances.footer=o,t.modelValue===!0&&d("size",l.value),d("space",t.modelValue),d("offset",z.value),J(()=>{a.instances.footer===o&&(a.instances.footer=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const e=I(g.default,[f(T,{debounce:0,onResize:S})]);return t.elevated===!0&&e.push(f("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),f("footer",{class:H.value,style:R.value,onFocusin:L},e)}}}),se=j({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:g,emit:c}){const{proxy:{$q:n}}=k(),a=h(null),l=h(n.screen.height),u=h(t.container===!0?0:n.screen.width),_=h({position:0,direction:"down",inflectionPoint:0}),v=h(0),s=h(E.value===!0?0:B()),z=i(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),x=i(()=>t.container===!1?{minHeight:n.screen.height+"px"}:null),Q=i(()=>s.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${s.value}px`}:null),H=i(()=>s.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${s.value}px`,width:`calc(100% + ${s.value}px)`}:null);function R(o){if(t.container===!0||document.qScrollPrevented!==!0){const e={position:o.position.top,direction:o.direction,directionChanged:o.directionChanged,inflectionPoint:o.inflectionPoint.top,delta:o.delta.top};_.value=e,t.onScroll!==void 0&&c("scroll",e)}}function d(o){const{height:e,width:r}=o;let y=!1;l.value!==e&&(y=!0,l.value=e,t.onScrollHeight!==void 0&&c("scrollHeight",e),S()),u.value!==r&&(y=!0,u.value=r),y===!0&&t.onResize!==void 0&&c("resize",o)}function m({height:o}){v.value!==o&&(v.value=o,S())}function S(){if(t.container===!0){const o=l.value>v.value?B():0;s.value!==o&&(s.value=o)}}let w=null;const L={instances:{},view:i(()=>t.view),isContainer:i(()=>t.container),rootRef:a,height:l,containerHeight:v,scrollbarWidth:s,totalWidth:i(()=>u.value+s.value),rows:i(()=>{const o=t.view.toLowerCase().split(" ");return{top:o[0].split(""),middle:o[1].split(""),bottom:o[2].split("")}}),header:$({size:0,offset:0,space:!1}),right:$({size:300,offset:0,space:!1}),footer:$({size:0,offset:0,space:!1}),left:$({size:300,offset:0,space:!1}),scroll:_,animate(){w!==null?clearTimeout(w):document.body.classList.add("q-body--layout-animate"),w=setTimeout(()=>{w=null,document.body.classList.remove("q-body--layout-animate")},155)},update(o,e,r){L[o][e]=r}};if(W(O,L),B()>0){let r=function(){o=null,e.classList.remove("hide-scrollbar")},y=function(){if(o===null){if(e.scrollHeight>n.screen.height)return;e.classList.add("hide-scrollbar")}else clearTimeout(o);o=setTimeout(r,300)},F=function(M){o!==null&&M==="remove"&&(clearTimeout(o),r()),window[`${M}EventListener`]("resize",y)},o=null;const e=document.body;p(()=>t.container!==!0?"add":"remove",F),t.container!==!0&&F("add"),A(()=>{F("remove")})}return()=>{const o=I(g.default,[f(oe,{onScroll:R}),f(T,{onResize:d})]),e=f("div",{class:z.value,style:x.value,ref:t.container===!0?void 0:a,tabindex:-1},o);return t.container===!0?f("div",{class:"q-layout-container overflow-hidden",ref:a},[f(T,{onResize:m}),f("div",{class:"absolute-full",style:Q.value},[f("div",{class:"scroll",style:H.value},[e])])]):e}}});const ce={__name:"MainLayout",setup(t){const g=le(),c=re();return g.getOmiljeniProizvodiFromLocalS(),(n,a)=>{const l=G("router-view");return C(),P(se,{view:"lHh Lpr lFf"},{default:q(()=>[V(ie,null,{default:q(()=>[V(l)]),_:1}),n.$route.path!=="/home"?(C(),P(ue,{key:0,bordered:"",class:"bg-grey-3 text-primary"},{default:q(()=>[V(ne,{"no-caps":"","active-color":"primary","indicator-color":"transparent",class:"text-grey-8"},{default:q(()=>[(C(!0),X(ee,null,Y(Z(c).navItems,u=>(C(),P(ae,{key:u.root,to:u.to,icon:u.icon},null,8,["to","icon"]))),128))]),_:1})]),_:1})):te("",!0)]),_:1})}}};var ge=D(ce,[["__scopeId","data-v-347da78c"]]);export{ge as default};
